graph TB
    subgraph "Agent Execution Flow"
        TaskProxy[Task Tool Proxy]
        AgentDispatcher[Agent Dispatcher]

        subgraph "Agent Types"
            Orchestrator[Orchestrator Agent]
            Analyzer[Analysis Specialists<br/>12 agents]
            Locator[Locator Specialists<br/>4 agents]
            Developer[Development Specialists<br/>8 agents]
            Research[Research Analysts<br/>6 agents]
        end

        PromptBuilder[Prompt Builder]
        ResponseParser[Response Parser]
    end

    subgraph "External"
        ClaudeAPI[Claude API]
    end

    TaskProxy -->|"Use agent-X subagent..."| AgentDispatcher
    AgentDispatcher -->|selects| Orchestrator
    AgentDispatcher -->|selects| Analyzer
    AgentDispatcher -->|selects| Locator
    AgentDispatcher -->|selects| Developer
    AgentDispatcher -->|selects| Research

    Orchestrator -->|builds prompt| PromptBuilder
    PromptBuilder -->|sends request| ClaudeAPI
    ClaudeAPI -->|response| ResponseParser
    ResponseParser -->|structured output| TaskProxy

    style TaskProxy fill:#4A90E2,stroke:#333,stroke-width:3px,color:#fff
    style AgentDispatcher fill:#50E3C2,stroke:#333,stroke-width:2px
    style Orchestrator fill:#F5A623,stroke:#333,stroke-width:2px