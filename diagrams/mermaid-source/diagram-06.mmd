graph TB
    subgraph "Theia IDE Container"
        subgraph "Frontend (Browser)"
            MonacoEditor[Monaco Editor<br/>Code editing]
            Terminal[xterm.js<br/>Terminal]
            FileExplorer[File Explorer<br/>Workspace tree]
            Extensions[Extension Host<br/>VS Code extensions]
        end

        subgraph "Theia Backend (Node.js)"
            FileService[File Service]
            GitService[Git Service]
            WorkspaceService[Workspace Service]
            ExtensionManager[Extension Manager]
        end

        subgraph "Storage"
            WorkspacePVC[Workspace PVC<br/>/home/theia/workspace]
            ConfigPVC[Config PVC<br/>/home/theia/.theia]
        end
    end

    MonacoEditor -->|file operations| FileService
    Terminal -->|shell commands| FileService
    FileExplorer -->|browse files| FileService
    Extensions -->|extension API| ExtensionManager

    FileService -->|read/write| WorkspacePVC
    WorkspaceService -->|settings| ConfigPVC
    GitService -->|.git operations| WorkspacePVC

    style MonacoEditor fill:#4A90E2,stroke:#333,stroke-width:2px,color:#fff
    style FileService fill:#50E3C2,stroke:#333,stroke-width:2px
    style WorkspacePVC fill:#BD10E0,stroke:#333,stroke-width:3px,color:#fff